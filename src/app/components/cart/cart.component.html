<!-- pokemon-cart.component.html -->
<div class="pokemon-cart-container">
  <div class="main-container">
    <div class="cart-container">
      <div class="cart-header">
        <h1><i class="fa fa-shopping-cart"></i> Your Pokémon Cart</h1>
        <div class="header-buttons">
          <button
            *ngIf="cartItems2.length > 0"
            class="clear-btn"
            (click)="clearCart()"
          >
            Clear Cart
          </button>
        </div>
      </div>

      <div class="empty-cart" *ngIf="cartItems2.length === 0">
        <div class="pokeball-animation">
          <img class="w-50" src="pokeball.png" />
        </div>
        <h2>Your cart is empty</h2>
        <p>Looks like you haven't added any Pokémon to your cart yet.</p>
        <a routerLink="/pokemon" class="shop-btn">Start Shopping</a>
      </div>

      <div class="cart-content" *ngIf="cartItems2.length > 0">
        <div class="cart-items">
          <div class="cart-item" *ngFor="let item of cartItems2; let i = index">
            <div class="item-image">
              <img [src]="item.mainImage" [alt]="item.name" />
              <span class="item-number">#{{ item.id }}</span>
            </div>
            <div class="item-info">
              <h3>{{ item.name }}</h3>
              <span class="text-muted">
                {{ item.setName }}
              </span>
            </div>
            <div class="item-price">${{ item.price }}</div>
            <div class="item-quantity">
              <button class="qty-btn" (click)="decreaseQuantity(item)">
                -
              </button>
              <span>{{ item.quantity }}</span>
              <button class="qty-btn" (click)="increaseQuantity(item)">
                +
              </button>
            </div>
            <div class="item-total">
              ${{ (item.price * item.quantity).toFixed(2) }}
            </div>
            <button class="remove-btn" (click)="removeItem(i)">
              <i class="fa fa-trash"></i>
            </button>
          </div>
        </div>
      </div>

      <div class="order-summary" *ngIf="cartItems2.length > 0">
        <h2>Order Summary</h2>
        <div class="summary-line">
          <span>Subtotal ({{ totalItems }} items)</span>
          <span>${{ subtotal.toFixed(2) }}</span>
        </div>
        <div class="summary-line">
          <span>Shipping</span>
          <span>${{ shipping.toFixed(2) }}</span>
        </div>
        <div class="summary-line">
          <span>Tax</span>
          <span>${{ tax.toFixed(2) }}</span>
        </div>
        <div class="summary-total">
          <span>Total</span>
          <span>${{ total.toFixed(2) }}</span>
        </div>
        <button (click)="checkout()" class="checkout-btn">
          Proceed to Checkout <i class="fa fa-arrow-right"></i>
        </button>
      </div>
    </div>
  </div>
</div>
